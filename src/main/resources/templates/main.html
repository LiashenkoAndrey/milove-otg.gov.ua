<!DOCTYPE html>
<html lang="en">
    <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{styles/main.css}">
    <link rel="stylesheet" th:href="@{styles/main-head.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Милівська ОТГ</title>
    </head>

<body>
<div id="new-group" class="form" style="display: none;">
    <div class="d-flex align-items-center justify-content-center " style="height: 600px; ">
        <form th:action="@{/group/new}" th:method="post" class="h1">
            <div class="text-end">
                <button type="button" class="btn-close" onclick="disableForm('new-group')" aria-label="Close"></button>
            </div>
            <label for="name" class="form-label">Назва групи документів</label>
            <input type="text" class="form-control" id="name" name="title">
            <input type="submit" value="Створити нову групу" class="btn btn-success mt-2">
        </form>
    </div>
</div>

    <div class="wrapper">
        <div class="container head mt-5">
            <h1 class="text-center text-dark" style="font-size: 38px;">Милівська сільська об'єднана територіальна громада</h1>
            <a href="/" style="width: 150px;">
                <img th:src="@{img/tryzub6.svg}" width="150" height="150" alt="" id="icon" style="position: relative; bottom: 15px; ">
            </a>
            <div class="p-1 text-center" id="head_nav">

                <div class="dropdown">
                    <button class="dropbtn">Новини</button>
                </div>
                  
                  <div class="dropdown">
                    <button class="dropbtn">Рішення громади</button>
                    <div class="dropdown-content">
                      <a href="#">Link 1</a>
                      <a href="#">Link 243</a>
                      <a href="#">Link 3</a>
                    </div>
                  </div>

                  <div class="dropdown">
                    <button class="dropbtn">Бюджет</button>
                    <div class="dropdown-content">
                      <a href="#">Link 1</a>
                      <a href="#">Link 2</a>
                      <a href="#">Link 3</a>
                    </div>
                  </div>
     
                  <div class="dropdown">
                    <button class="dropbtn">Податки та збори</button>
                    <div class="dropdown-content">
                      <a href="#">Link 1</a>
                      <a href="#">Link 243</a>
                      <a href="#">Link 3</a>
                    </div>
                  </div>

                  <div class="dropdown">
                    <button class="dropbtn">Громада</button>
                    <div class="dropdown-content">
                      <a href="#">Link 1</a>
                      <a href="#">Link 2</a>
                      <a href="#">Link 3</a>
                    </div>
                  </div>
                  
                  <div class="dropdown">
                    <button class="dropbtn">Контакти</button>
                  </div>
            </div>
        </div>

        <div class="content container" style="background-color: rgba(219, 217, 217, 0.911); padding: 0;">
            <div class="row">

                <nav class="h5 col-sm-2 text-dark ms-4 mt-2 " id="nav">
                    <div class="sticky">
                        <button class="btn btn-success m-1" onclick="enableForm('form')" >Змінити картинку</button>
                        <button class="btn btn-success m-1" onclick="enableForm('new-group')" >Додати групу</button>
                        <div th:each="group : ${groups}"  style="position: relative;">
                            <img th:src="@{/img/arrow-left.png}" alt="arrow-left" style="position: absolute; left: -25px;" width="25" height="25">
                            <a th:href="@{'/group/' + ${group.id}}"  th:text="${group.title}" >Document</a>
                        </div>
                    </div>

                </nav>

                <div class="col" >
                    <h2>Вас вітає милівська сільська об'єднана територіальна громада!</h2>
                    <div class="row p-5 " id="icons-bar">
                        <div class="container col">
                            <div>
                                <a href="">
                                    <img src="/img/main/administrative_services.png" class="img-fluid" width="200" height="200" alt="">
                                    <h4>Центр надання адміністративних послуг</h4>
                                </a>

                            </div>
                            <div>
                                <a href="">
                                <img src="/img/main/documents.png" class="img-fluid" width="200" height="200" alt="">
                                <h4>Документи громади</h4>
                                </a>
                            </div>
                            <div>
                                <a href="">
                                    <img src="/img/main/medicine.png" class="img-fluid" width="200" height="200" alt="">
                                    <h4>Медицина</h4>
                                </a>
                            </div>
                        </div>

                        <div class="container col">
                            <div>
                                <a href="">
                                    <img src="/img/main/culture.png" class="img-fluid" width="200" height="200" alt="">
                                    <h4>Культура</h4>
                                </a>
                            </div>
                            <div>
                                <a href="">
                                    <img src="/img/main/info.png" class="img-fluid" width="200" height="200" alt="">
                                    <h4>Важлива інформація</h4>
                                </a>
                            </div>
                            <div>
                                <a href="">
                                    <img src="/img/main/military_administration.png" class="img-fluid" width="200" height="200" alt="">
                                    <h4>Військова адміністрація</h4>
                                </a>
                            </div>
                        </div>
                        <div class="text-center" id="icons-bar-link">
                            <a href="" >
                                <img src="/img/main/leave_question.png" class="img-fluid" width="200" height="200" alt="">
                                <h4>Залишити питання</h4>
                            </a>
                        </div>
                    </div>

                </div>


                <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img th:src="@{/upload/image/63fa6d31287f9f5a352205b0}"  class="d-block w-100"  alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Second slide label</h5>
                                <p>Some demonstrative placeholder content for the second slide.</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img th:src="@{/upload/image/63fa6dd6287f9f5a352205b4}" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Second slide label</h5>
                                <p>Some demonstrative placeholder content for the second slide.</p>
                            </div>

                        </div>
                        <div class="carousel-item">
                            <img th:src="@{/upload/image/63fa6c51287f9f5a352205ac}" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Second slide label</h5>
                                <p>Some demonstrative placeholder content for the second slide.</p>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>

                <!-- news-wrapper -->
                <div  id="news-wrapper" >

                    <div class="mt-3 mb-3">
                        <h3 class="text-center" >Новини</h3>
                        <a href="/news/new" class="btn btn-success">Додати новину</a>
                    </div>

                    <div class="row"  th:each="news_slice : ${divided_pages}" >
                        <div class="col-md-4 mb-4" th:each="news : ${news_slice}" >
                            <div>
                                <!-- time -->
                                <div><img th:src="@{/img/calendar-event.svg}" class="img-fluid" style="display: inline-block"> <span style="margin-left: 2px" th:text="${news.date_of_creation.returnDate()}"></span></div>
                                <img th:src="@{'/upload/image/' + ${news.image_id}}" width="290" height="180" alt="Зоображення новини" th:title="${news.date_of_creation.returnDate()}">
                            </div>
                            <!-- description-->
                            <div style="width: 300px">
                                <a th:href="@{'/news/' + ${news.id}}" class="link" th:text="${news.description}"></a>
                            </div>
                        </div>
                    </div>

                    <div class="mt-5 mb-4 text-center" th:if="${currentPage > 5}">
                        <a th:unless="${currentPage < pagesQuantity -5}"
                           th:href="@{/news/all(page=${1})}"
                           th:text="'1...'"
                           class="text-decoration-none text-white h5">
                        </a>
                        <a th:href="@{/news/all(page=${i})}"
                           th:text="${i}"
                           th:each="i : ${#numbers.sequence(currentPage - 5,currentPage + 5)}"
                           th:if="${i <= pagesQuantity}"
                           class="text-dark me-1 page text-decoration-none p-1 h5">
                        </a>
                        <span th:if="${currentPage < pagesQuantity -5}"  th:text="'...' + ${pagesQuantity}"></span>
                        <script>
                            let pages = document.getElementsByClassName("page")
                            pages.item(6).id = 'current'
                        </script>
                    </div>

                    <div class="mt-5 mb-4 text-center" th:unless="${currentPage > 5}" th:inline="text">
                        <a th:href="@{/(page=${i})}"
                           th:text="${i}"
                           th:each="i : ${#numbers.sequence(1,currentPage + 5)}"
                           th:if="${i <= pagesQuantity}"
                           class="text-dark me-1 page text-decoration-none p-1 h5">
                        </a>
                        <span th:if="${currentPage < pagesQuantity -5}" th:text="'...' + ${pagesQuantity}"></span>
                        <script th:inline="text">
                            let pages = document.getElementsByClassName("page")
                            pages.item([[${currentPage}]]).id = 'current'
                        </script>
                    </div>

                </div>
            </div>
        </div>

        <footer class="footer p-3 text-info mt-5">
            <h1>footer</h1>
            <p>Lore ipsum dolor sit amet consectetur adipisicing elit. Distinctio quasi obcaecati sed nobis aut cupiditate officia molestias deserunt vel beatae. Aspernatur quo voluptates fugiat, deleniti in suscipit. Assumenda, itaque nisi?</p>
            <a href="/admin/login" style="background-color: transparent; border: none;">
                <img th:src="@{img/door-open.svg}" width="30" height="30" alt="">
            </a>
        </footer>

    </div>
    <script th:src="@{scripts/documentService.js}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>