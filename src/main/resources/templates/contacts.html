<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="~{fragments/basic-head.html :: basic-head}"></head>
<link rel="stylesheet" th:href="@{/styles/notifications.css}">
<title>Милівська ОТГ</title>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.8.2/tinymce.min.js" integrity="sha512-laacsEF5jvAJew9boBITeLkwD47dpMnERAtn4WCzWu/Pur9IkF0ZpVTcWRT/FUCaaf7ZwyzMY5c9vCcbAAuAbg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<style>
    #file-label, #file {
        display: none;
    }
     #sub_institution, #sub_institution_title  {
         display: none;
     }
</style>

<!--notifications -->
<div th:replace="~{fragments/notification.html :: notifications}"></div>

<!-- forms -->
<div th:replace="~{fragments/forms.html :: confirm-form}"></div>
<div th:replace="~{fragments/forms.html :: employee-form}"></div>

<div class="wrapper">
    <div th:replace="~{fragments/header.html :: header}"></div>

    <div class="content container" >
        <h4 class="text-center mt-3" >Контакти</h4>
        <div class="container">
                <pre>
                    <table class="table" style="background-color: white">
                        <thead class="table-head">
                        <tr>
                            <th>Посада</th>
                            <th>Ім'я</th>
                            <th>Фамілія</th>
                            <th>Телефон</th>
                            <th>Робочий email</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="employee : ${employee_list}" >
                            <th th:text="${employee.position}"></th>
                            <th th:text="${employee.first_name}"></th>
                            <th th:text="${employee.last_name}"></th>
                            <th th:text="${employee.phone_number}"></th>
                            <th th:text="${employee.email}"></th>
                            <th sec:authorize="hasAuthority('ADMIN')"><button class="btn btn-danger"  th:onclick="'enableFormAndDoGetRequest(\'Ви впевненні що хочете видалити запис\',\'Так, видалити\',\'/контакти/employee/' + ${employee.id} + '/delete\',\'null\')'">Видалити запис</button></th>
                            <th sec:authorize="hasAuthority('ADMIN')"><button class="btn btn-info" th:onclick="'enableFormAndInjectAction(\'/контакти/employee/' + ${employee.id} + '/update\', \'Оновити\')'">Оновити запис</button></th>
                        </tr>

                        </tbody>
                    </table>
                </pre>
            <button sec:authorize="hasAuthority('ADMIN')" class="btn btn-success mb-3" th:onclick="'enableFormAndInjectAction(\'/контакти/employee/new\', \'Додати\')'">Додати запис</button>
        </div>

    </div>

    <div th:replace="~{fragments/footer.html :: footer}"></div>

</div>

<script th:src="@{/scripts/documentService.js}"></script>
<script th:src="@{/scripts/employeeService.js}"></script>
<script th:src="@{/scripts/requests.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>